<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>contact us</title>

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
   <link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
   <section class="flex">
      <a href="home.html" class="logo">Educa.</a>

      <form action="search.html" method="post" class="search-form">
         <input type="text" name="search_box" required placeholder="search courses..." maxlength="100">
         <button type="submit" class="fas fa-search"></button>
      </form>

      <div class="icons">
         <div id="menu-btn" class="fas fa-bars"></div>
         <div id="search-btn" class="fas fa-search"></div>
         <div id="user-btn" class="fas fa-user"></div>
         <div id="toggle-btn" class="fas fa-sun"></div>
      </div>

      <div class="profile">
         <img src="pic-1.jpg" class="image" alt="">
         <h3 class="name">Rishi</h3>
         <p class="role">student</p>
         <a href="profile.html" class="btn">view profile</a>
         <div class="flex-btn">
            <a href="login.html" class="option-btn">login</a>
            <a href="register.html" class="option-btn">register</a>
         </div>
      </div>
   </section>
</header>   

<div class="side-bar">
   <div id="close-btn">
      <i class="fas fa-times"></i>
   </div>

   <div class="profile">
      <img src="pic-1.jpg" class="image" alt="">
      <h3 class="name">Rishi</h3>
      <p class="role">student</p>
      <a href="profile.html" class="btn">view profile</a>
   </div>

   <nav class="navbar">
      <a href="home.html"><i class="fas fa-home"></i><span>home</span></a>
      <a href="about.html"><i class="fas fa-question"></i><span>about</span></a>
      <a href="courses.html"><i class="fas fa-graduation-cap"></i><span>courses</span></a>
      <a href="teachers.html"><i class="fas fa-chalkboard-user"></i><span>teachers</span></a>
      <a href="assignment.html"><i class="fas fa-file-alt"></i><span>Assignment</span></a>
      <a href="contact.html"><i class="fas fa-headset"></i><span>contact us</span></a>
   </nav>
</div>

<section class="contact">
   <div class="row">
      <div class="image">
         <img src="contact-img.svg" alt="">
      </div>

      <form name="contactForm" onsubmit="sendEmail(); return false;" action="" method="post">
         <h3>get in touch</h3>
         <input type="text" placeholder="enter your name" name="name" required maxlength="50" class="box">
         <input type="email" placeholder="enter your email (Gmail only)" name="email" id="email" required maxlength="50" pattern="[a-z0-9._%+-]+@gmail\.com$" class="box">
         <input type="text" placeholder="enter your number (10 digits)" name="number" required maxlength="10" pattern="[0-9]{10}" class="box">
         <textarea name="msg" class="box" placeholder="enter your message" required maxlength="1000" cols="30" rows="10"></textarea>
         <input type="submit" value="send message" class="inline-btn" name="submit">
      </form>
   </div>
</section>

<footer class="footer">
   <a href="home.html" class="back-btn">Back</a>
   <!-- &copy | all rights reserved! -->
</footer>

<script src="https://smtpjs.com/v3/smtp.js"></script>
<script>
   function validateForm() {
      let name = document.forms["contactForm"]["name"].value;
      let email = document.forms["contactForm"]["email"].value;
      let number = document.forms["contactForm"]["number"].value;
      let message = document.forms["contactForm"]["msg"].value;

      if (name === "" || email === "" || number === "" || message === "") {
         alert("Please fill in all required fields.");
         return false;
      }

      if (!isValidEmail(email)) {
         alert("Please enter a valid Gmail address.");
         return false;
      }

      let numberPattern = /^\d{10}$/;
      if (!numberPattern.test(number)) {
         alert("Please enter a 10-digit numeric number.");
         return false;
      }

      return true;
   }

   function isValidEmail(email) {
      let emailPattern = /[a-z0-9._%+-]+@gmail\.com$/;
      return emailPattern.test(email);
   }

   function sendEmail() {
      if (validateForm()) {
         Email.send({
            Host: "smtp.egmail.com",
            Username: "subholakshmi.biswas2022@vitstudent.ac.in",
            Password: "mr87bVj1%B",
            To: 'subholakshmibiswas444@gamil.com',
            From: document.getElementById("email").value,
            Subject: "New contact Form Enquiry",
            Body: "And this is the body"
         }).then(
            message => alert(message)
         );
      }
   }
</script>
<script src="script.js"></script>
</body>
</html>
